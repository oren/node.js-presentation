<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Node.js Talk</title>
    
    <meta name="description" content="impress.js is a presentation tool based on the power of CSS3 transforms and transitions in modern browsers and inspired by the idea behind prezi.com.">
    <meta name="author" content="" />

    <!-- <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" /> -->

    <link href="css/impress-demo.css" rel="stylesheet" />
    <link href="css/ignite.css" rel="stylesheet" />

</head>
<body>
  <div id='slides'>
    <span id='slide-number'>1</span>/20
  </div>
  <div id='time'>
    15
  </div>

  <div id="impress">

    <div id="start" class="step" data-x="0" data-y="0">
      <img src="images/strangelove.jpg">
    </div>

    <div id="define" class="step" data-x="1200" data-y="0">
      <h1>Node.js</h1>
      <p>
        a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications
      </p>
    </div>

    <div id="history1" class="step" data-x="1800" data-y="-500">
      <h1>Ryan Dahl</h1>
      <img src="images/ryan.jpeg">
    </div>

    <div id="history2" class="step" data-x="2300" data-y="0">
      <h1>History</h1>
      <ul>
        <li>
          2009 - Ryan Dahl, JSConf EU, Joyent
        </li>
        <li>
          2010 - v0.2 "stable-ish"
        </li>
        <li>
          2/2011 - v0.4 "stuff works"
        </li>
        <li>
          11/2011 - v0.6 "stuff works on windows"
        </li>
        <li>
          6/2012 - v0.8 "stuff works better" 
        </li>
      </ul>
    </div>

    <div id="wat" class="step" data-x="3400" data-y="0">
      <h1>WAT</h1>
      <ul>
        <li>
          Server-side Javascript
        </li>
        <li>
          Built on Google’s V8
        </li>
        <li>
          Evented, non-blocking I/O
        </li>
        <li>
          CommonJS module system
        </li>
        <li>
          20k C/C++ Lines, 20k JS lines, 320 contributors
        </li>
      </ul>
    </div>

    <div id="architecture" class="step" data-x="3800" data-y="-600">
      <img src="images/architecture.png">
    </div>
        
    <!--5-->
    <div id="expensive" class="step" data-x="4400" data-y="0">
      <h1>I/O is expensive</h1>
      <ul>
        <li>
          L1: 3 cycles
        </li>
        <li>
          L2: 14 cycles
        </li>
        <li>
          RAM: 250 cycles
        </li>
        <li>
          DISK: 41,000,000 cycles
        </li>
        <li>
          NETWORK: 240,000,000 cycles
        </li>
      </ul>
    </div>

    <div id="dealing" class="step" data-x="4400" data-y="1000">
      <h1>dealing with I/O</h1>
      <ul>
      <li>synchronous</li>
      <li>fork a new process</li>
      <li>threads</li>
      <li>using event loop</li>
      </ul>
    </div>

    <div id="sync-io" class="step" data-x="3400" data-y="1000">
    <h1>synchronous</h1>
      <pre>
        var result =  db.query("select * from T");
      </pre>
      <pre>
        // use result
      </pre>
    </div>

    <div id="event-loop" class="step" data-x="2600" data-y="1000">
    <h1>event loop pseudo code</h1>
      <pre>
        while (1) {
          nfds = poll(fds, next_timer());

          if (nfds == 0)
             timer_callback();

          for(n = 0; n < nfds; ++n) {
             if (fds[n] == READY)
                callbacks[n]();
          }
        }
      </pre>
    </div>

    <div id="async" class="step" data-x="1600" data-y="1000">
    <h1>adding a function to queue that the event loop is listening to</h1>
      <pre>
        db.query("select..", function (result) {
        // use result
        });
      </pre>

      <pre>
        This is how I/O should be done.
      </pre>
    </div>

    <div id="nginx" class="step" data-x="4400" data-y="3000" data-scale="4">
      <h1>nginx vs apache</h1>
      <img class="a" src="images/nginx.png">
      <img class="b" src="images/nginx2.png">
    </div>


    <div id="performance" class="step" data-x="2300" data-y="1700">
      <h1>performance</h1>
      <ul>
        <li> 256MB cloud machine running Linux </li>
        <li> HTTP Server Benchmark </li>
        <li> 20 simultaneous requests </li>
        <li> 20000 total requests </li>
        <li> Doing simple GET </li>
      </ul>

      <br />
      <p> 51.99 MB - ~4900 requests/second </p>
    </div>

    <div id="y-u-no-like" class="step" data-x="2300" data-y="2300">
      <img src="images/y-u-no-like.jpg">
    </div>

    <div id="unix" class="step" data-x="1200" data-y="2200">
      <h1>design goals</h1>
      <p>
      The API should be both familiar to
      client-side JS programmers and
      old school UNIX hackers.
      </p>
    </div>

    <div id="callbacks" class="step" data-x="2300" data-y="2900">
      <h1>Callbacks</h1>
      <p>no function should perform i/o directly.</p>
      <p> To receive info from disk, network, or another process there must be a callback </p>
    </div>

    <div id="streams" class="step" data-x="2300" data-y="3500">
      <h1>Streams</h1>
      <p>
        Stream everything. never force the buffering of data
      </p>
    </div>

    <div id="batteries" class="step" data-x="2300" data-y="4100">
      <h1>batteries not included</h1>
    </div>

    <div id="npm" class="step" data-x="1200" data-y="4100">
      <h1>NPM</h1>
      <p> Rubygems on steroids</p>
    </div>

    <div id="limited" class="step" data-x="1200" data-y="3500">
      <h1>limited surface area</h1>
      <pre>
        var http = require('http');

        http.createServer(function (req, res) {
          res.end('Hello World');
        }).listen(1337, "127.0.0.1");
        
        console.log('Server running at http://127.0.0.1:1337/');
      </pre>
    </div>

    <div id="me" class="step" data-x="0" data-y="1000">
    <h1>github.com/oren</h1>
    </div>

    <div id="overview" class="step" data-x="3000" data-y="1900" data-scale="6">
    </div>

  </div>

  <script src="js/jquery-1.7.2.min.js"></script>
  <script src="js/ignite.js"></script>
  <script src="js/impress.js"></script>
  <script>impress().init();</script>

</body>
</html>
